<table class="data">

    <tr><th colspan="2" class="title"><h2>General Information</h2></th></tr>
    <tr><td class="label">Cell line name:</td><td>{{ cellline.name|default:"-" }}</td></tr>
    <tr><td class="label">Cell line alternative names:</td><td>{{ cellline.alternative_names|default:"-" }}</td></tr>
    <tr><td class="label">Biosamples ID:</td><td><a href="http://www.ebi.ac.uk/biosamples/sample/{{ cellline.biosamples_id }}" target="_blank"><i class="glyphicon glyphicon-link"></i> {{ cellline.biosamples_id }}</a></td></tr>

    <tr><td class="label">Derivation country:</td><td>{{ cellline.derivation_country|default:"-" }}</td></tr>

    {% if cellline.publications.all|length %}
    <tr>
        <td class="label">Reference publications:</td>
        <td>
            <ul>
                {% for pub in cellline.publications.all %}
                <li><a href="{{ pub.reference_url }}">{{ pub.reference_title }}</a></li>
                {% endfor%}
            </ul>
        </td>
    </tr>
    {% endif %}

    <tr><th class="sub-title"><h3>Disease information</h3></th><th></th></tr>
    {% if cellline.primary_disease_diagnosis == '1' %}
    <tr><td class="label">Diagnosed disease:</td><td>{{ cellline.primary_disease|default:"-" }}</td></tr>
    {% elif cellline.primary_disease_diagnosis == 'carrier' %}
    <tr><td class="label">Diagnosed disease:</td><td>{{ cellline.primary_disease|default:"-" }}</td></tr>
    <tr><td class="label">Carrier:</td><td>Yes</td></tr>
    {% else %}
    <tr><td class="label">Diagnosed disease:</td><td>No</td></tr>
    {% endif %}
    {% if cellline.primary_disease_stage %}
    <tr><td class="label">Disease stage:</td><td>{{ cellline.primary_disease_stage }}</td></tr>
    {% endif %}
    {% if cellline.disease_associated_phenotypes %}
    <tr><td class="label">Disease associated phenotypes:</td><td>{{ cellline.disease_associated_phenotypes|join:", " }}</td></tr>
    {% endif %}
    {% if cellline.family_history %}
    <tr><td class="label">Family history:</td><td>{{ cellline.family_history }}</td></tr>
    {% endif %}
    {% if cellline.medical_history %}
    <tr><td class="label">Medical history:</td><td>{{ cellline.medical_history }}</td></tr>
    {% endif %}
    {% if cellline.clinical_information %}
    <tr><td class="label">Clinical information:</td><td>{{ cellline.clinical_information }}</td></tr>
    {% endif %}
    {% if cellline.affected_status %}
    <tr><td class="label">Affected status:</td><td>{{ cellline.affected_status }}</td></tr>
    {% endif %}

    <tr><th class="sub-title"><h3>Donor information</h3></th><th></th></tr>
    <tr><td class="label">Biosamples ID:</td><td>{{ cellline.donor.biosamples_id|default:"-" }}</td></tr>
    {% if cellline.donor.provider_donor_ids %}
    <tr><td class="label">Internal donor ID:</td><td>{{ cellline.donor.provider_donor_ids|join:", " }}</td></tr>
    {% endif %}
    {% if cellline.donor.gender %}
    <tr><td class="label">Gender:</td><td>{{ cellline.donor.gender|default:"-" }}</td></tr>
    {% endif %}
    {% if cellline.donor_age %}
    <tr><td class="label">Age:</td><td>{{ cellline.donor_age|default:"-" }}</td></tr>
    {% endif %}
    {% if cellline.donor.country_of_origin %}
    <tr><td class="label">Country of origin:</td><td>{{ cellline.donor.country_of_origin|default:"-" }}</td></tr>
    {% endif %}
    {% if cellline.donor.ethnicity %}
    <tr><td class="label">Ethnicity:</td><td>{{ cellline.donor.ethnicity|default:"-" }}</td></tr>
    {% endif %}
    {% if cellline.donor.phenotypes %}
    <tr><td class="label">Donor phenotypes:</td><td>{{ cellline.donor.phenotypes|default:"-"|join:", " }}</td></tr>
    {% endif %}
    {% if cellline.donor.karyotype %}
    <tr><td class="label">Donor karyotype:</td><td>{{ cellline.donor.karyotype|default:"-" }}</td></tr>
    {% endif %}

    <tr><th class="sub-title"><h3>Depositor</h3></th><th></th></tr>

    <tr><td class="label">Depositor:</td><td>{{ cellline.generator.name|default:"-" }}</td></tr>

    <tr><th colspan="2" class="title"><h2>Derivation</h2></th></tr>

    <tr><td class="label">Primary cell type:</td><td>{{ cellline.derivation.primary_cell_type.name|default:"-" }}</td></tr>

    {% if cellline.derivation.primary_cell_developmental_stage %}
    <tr><td class="label">Primary cell developmental stage:</td><td>{{ cellline.derivation.primary_cell_developmental_stage }}</td></tr>
    {% endif %}
    {% if cellline.derivation.tissue_procurement_location %}
    <tr><td class="label">Location of primary tissue procurement:</td><td>{{ cellline.derivation.tissue_procurement_location }}</td></tr>
    {% endif %}
    {% if cellline.derivation.tissue_collection_date %}
    <tr><td class="label">Tissue collection date:</td><td>{{ cellline.derivation.tissue_collection_date }}</td></tr>
    {% endif %}
    {% if cellline.derivation.reprogramming_passage_number %}
    <tr><td class="label">Passage number reprogrammed:</td><td>{{ cellline.derivation.reprogramming_passage_number }}</td></tr>
    {% endif %}

    <tr><th class="sub-title"><h3>Reprogramming method</h3></th><th></th></tr>

    {% if cellline.integrating_vector %}
        <tr><td class="label">Vector type:</td><td>Integrating</td></tr>
        {% if cellline.integrating_vector.vector %}<tr><td class="label">Vector:</td><td>{{ cellline.integrating_vector.vector }}</td></tr>{% endif %}
        {% if cellline.integrating_vector.virus %}<tr><td class="label">Virus type:</td><td>{{ cellline.integrating_vector.virus }}</td></tr>{% endif %}
        {% if cellline.integrating_vector.transposon %}<tr><td class="label">Transposon:</td><td>{{ cellline.integrating_vector.transposon }}</td></tr>{% endif %}

        {% if cellline.integrating_vector.genes.all|length %}
        <tr>
            <td class="label">Gene list:</td>
            <td>
                <ul>
                    {% for gene in cellline.integrating_vector.genes.all %}
                    <li>{{ gene.name }}</li>
                    {% endfor%}
                </ul>
            </td>
        </tr>
        {% endif %}

        {% if cellline.integrating_vector.excisable %}<tr><td class="label">Is the used vector excisable?:</td><td>{{ cellline.integrating_vector.excisable|yesno:"yes,no" }}</td></tr>{% endif %}
        {% if cellline.integrating_vector.absence_reprogramming_vectors %}<tr><td class="label">Absence of reprogramming vector(s):</td><td>{{ cellline.integrating_vector.absence_reprogramming_vectors|yesno:"yes,no" }}</td></tr>{% endif %}
    {% endif %}

    {% if cellline.non_integrating_vector %}
        <tr><td class="label">Vector type:</td><td>Non-integrating</td></tr>
        {% if cellline.non_integrating_vector %}<tr><td class="label">Vector:</td><td>{{ cellline.non_integrating_vector }}</td></tr>{% endif %}

        {% if cellline.non_integrating_vector.genes.all|length %}
        <tr>
            <td class="label">Gene list:</td>
            <td>
                <ul>
                    {% for gene in cellline.non_integrating_vector.genes.all %}
                    <li>{{ gene.name }}</li>
                    {% endfor%}
                </ul>
            </td>
        </tr>
        {% endif %}

    {% endif %}

    <tr><th class="sub-title"><h3>Derivation</h3></th><th></th></tr>

    {% if cellline.celllinederivation.selection_criteria_for_clones %}
    <tr><td class="label">Selection criteria for clones:</td><td>{{ cellline.celllinederivation.selection_criteria_for_clones }}</td></tr>
    {% endif %}
    <tr><td class="label">Xeno free conditions:</td><td>{{ cellline.celllinederivation.xeno_free_conditions|yesno:"yes,no"|default:"-" }}</td></tr>
    <tr><td class="label">Derived under gmp:</td><td>{{ cellline.celllinederivation.derived_under_gmp|yesno:"yes,no"|default:"-" }}</td></tr>
    <tr><td class="label">Available as clinical grade:</td><td>{{ cellline.celllinederivation.available_as_clinical_grade|yesno:"yes,no"|default:"-" }}</td></tr>

    <tr><th colspan="2" class="title"><h2>Culture Conditions</h2></th></tr>

    {% if cellline.celllinecultureconditions.surface_coating %}
    <tr><td class="label">Surface coating:</td><td>{{ cellline.celllinecultureconditions.surface_coating|default:"-" }}</td></tr>
    {% endif %}
    {% if cellline.celllinecultureconditions.feeder_cell_type %}
    <tr><td class="label">Feeder cell type:</td><td>{{ cellline.celllinecultureconditions.feeder_cell_type|default:"-" }}</td></tr>
    {% endif %}
    {% if cellline.celllinecultureconditions.passage_method %}
    <tr><td class="label">Passage method:</td><td>{{ cellline.celllinecultureconditions.passage_method|default:"-" }}</td></tr>
    {% endif %}
    {% if cellline.celllinecultureconditions.enzymatically %}
    <tr><td class="label">Enzymatically:</td><td>{{ cellline.celllinecultureconditions.enzymatically|default:"-" }}</td></tr>
    {% endif %}
    {% if cellline.celllinecultureconditions.enzyme_free %}
    <tr><td class="label">Enzyme free:</td><td>{{ cellline.celllinecultureconditions.enzyme_free|default:"-" }}</td></tr>
    {% endif %}
    {% if cellline.celllinecultureconditions.o2_concentration %}
    <tr><td class="label">O<sub>2</sub> concentration:</td><td>{{ cellline.celllinecultureconditions.o2_concentration }}%</td></tr>
    {% endif %}
    {% if cellline.celllinecultureconditions.co2_concentration %}
    <tr><td class="label">CO<sub>2</sub> concentration:</td><td>{{ cellline.celllinecultureconditions.co2_concentration }}%</td></tr>
    {% endif %}

    {% if cellline.celllinecultureconditions.culture_medium %}
    <tr><td class="label">Culture medium:</td><td>{{ cellline.celllinecultureconditions.culture_medium }}</td></tr>
    {% endif %}

    {% if cellline.celllinecultureconditions.culture_medium_other %}
    <tr><td class="label">Culture base medium:</td><td>{{ cellline.celllinecultureconditions.culture_medium_other.base }}</td></tr>
    <tr><td class="label">Main protein source:</td><td>{{ cellline.celllinecultureconditions.culture_medium_other.protein_source|default:"-" }}</td></tr>
    {% if cellline.celllinecultureconditions.culture_medium_other.serum_concentration %}
    <tr><td class="label">Serum concentration:</td><td>{{ cellline.celllinecultureconditions.culture_medium_other.serum_concentration }}%</td></tr>
    {% endif %}
    {% endif %}

    {% if cellline.celllinecultureconditions.medium_supplements.all|length %}
    <tr>
        <td class="label">Culture medium supplements:</td>
        <td>
            <ul>
                {% for medium_supplement in cellline.celllinecultureconditions.medium_supplements.all %}
                <li>{{ medium_supplement }}</li>
                {% endfor %}
            </ul>
        </td>
    </tr>
    {% endif %}

    {% if cellline.celllinecultureconditions.passage_number_banked %}
    <tr>
        <td class="label">Passage Number banked (pre-EBiSC):</td>
        <td>{{ cellline.celllinecultureconditions.passage_number_banked }}</td>
    </tr>
    {% endif %}

    {% if cellline.celllinecultureconditions.number_of_vials_banked %}
    <tr>
        <td class="label">No. Vials banked (pre-EBiSC):</td>
        <td>{{ cellline.celllinecultureconditions.number_of_vials_banked }}</td>
    </tr>
    {% endif %}

    <tr><th colspan="2" class="title"><h2>Characterization</h2></th></tr>

    {% if cellline.celllinecharacterization.certificate_of_analysis_passage_number %}
    <tr><td class="label">Certificate of analysis passage number:</td><td>{{ cellline.celllinecharacterization.certificate_of_analysis_passage_number|default:"-" }}</td></tr>
    {% endif %}

    <tr>
        <td class="label">Microbiology / Virology Screening:</td>
        <td>
            <table>
                <tr>
                    <td>HIV 1:</td>
                    <td>{{ cellline.celllinecharacterization.get_screening_hiv1_display|default:"-" }}</td>
                </tr>
                <tr>
                    <td>HIV 2:</td>
                    <td>{{ cellline.celllinecharacterization.get_screening_hiv2_display|default:"-" }}</td>
                </tr>
                <tr>
                    <td>Hepatitis B:</td>
                    <td>{{ cellline.celllinecharacterization.get_screening_hepatitis_b_display|default:"-" }}</td>
                </tr>
                <tr>
                    <td>Hepatitis C:</td>
                    <td>{{ cellline.celllinecharacterization.get_screening_hepatitis_c_display|default:"-" }}</td>
                </tr>
                <tr>
                    <td>Mycoplasma:</td>
                    <td>{{ cellline.celllinecharacterization.get_screening_mycoplasma_display|default:"-" }}</td>
                </tr>
            </table>
        </td>
    </tr>

    {% if cellline.undifferentiated_morphology_marker_imune %}
    <tr><th class="sub-title"><h3>Undifferentiated cells</h3></th></tr>

    <tr>
        <td class="label">Morphology and Marker expression:</td>
        <td>
            {% if cellline.undifferentiated_morphology_marker_imune %}
            <p><b>Immune/Markerstaining</b><br/>
            Passage number: {{ cellline.undifferentiated_morphology_marker_imune.passage_number }}</p>
            <table>
            {% for molecule in cellline.undifferentiated_morphology_marker_imune.molecules.all %}
            <tr><td>{{ molecule.molecule }}:</td><td class="center">{{ molecule.result }}</td></tr>
            {% endfor %}
            </table>
            {% endif %}

            {% if cellline.undifferentiated_morphology_marker_facs %}
            <p><br/><b>FACS</b><br/>
            Passage number: {{ cellline.undifferentiated_morphology_marker_facs.passage_number }}</p>
            <table>
            {% for molecule in cellline.undifferentiated_morphology_marker_facs.molecules.all %}
            <tr><td>{{ molecule.molecule }}:</td><td class="center">{{ molecule.result }}</td></tr>
            {% endfor %}
            </table>
            {% endif %}

            {% if cellline.undifferentiated_morphology_marker_rtpcr %}
            <p><br/><b>RT-PCR</b><br/>
            Passage number: {{ cellline.undifferentiated_morphology_marker_rtpcr.passage_number }}</p>
            <table>
            {% for molecule in cellline.undifferentiated_morphology_marker_rtpcr.molecules.all %}
            <tr><td>{{ molecule.molecule }}:</td><td class="center">{{ molecule.result }}</td></tr>
            {% endfor %}
            </table>
            {% endif %}

            {% if cellline.undifferentiated_morphology_marker_morphology %}
            <p><br/><b>Morphology</b><br/>
            Passage number: {{ cellline.undifferentiated_morphology_marker_morphology.passage_number|default:'-' }}<br/>
            Description: {{ cellline.undifferentiated_morphology_marker_morphology.description|default:'-' }}<br/>
            {% if cellline.undifferentiated_morphology_marker_morphology.data_url %}
            File: <a href="{{ cellline.undifferentiated_morphology_marker_morphology.data_url }}">Image</a>
            {% endif %}
            {% endif %}

            {% if cellline.undifferentiated_morphology_marker_expression_profile %}
            <p><br/><b>Expression profiles (Omics)</b><br/>
            Passage number: {{ cellline.undifferentiated_morphology_marker_expression_profile.passage_number|default:'-' }}<br/>
            Method: {{ cellline.undifferentiated_morphology_marker_expression_profile.method|default:'-' }}<br/>
            <table>
            {% for molecule in undifferentiated_morphology_marker_expression_profile.molecules.all %}
            <tr><td>{{ molecule.molecule }}:</td><td class="center">{{ molecule.result }}</td></tr>
            {% endfor %}
            </table>
            Data:
            {% if undifferentiated_morphology_marker_expression_profile.uploaded_data_url %}
                <a href="{{ cellline.undifferentiated_morphology_marker_expression_profile.uploaded_data_url }}">Data file</a>
            {% endif %}
            {% if undifferentiated_morphology_marker_expression_profile.uploaded_data_url and cellline.undifferentiated_morphology_marker_expression_profile.data_url %}, {% endif %}
            {% if cellline.undifferentiated_morphology_marker_expression_profile.data_url %}
                <a href="{{ cellline.undifferentiated_morphology_marker_expression_profile.data_url }}">Link</a>
            {% endif %}
            {% endif %}

        </td>
    </tr>
    {% endif %}


    {% if cellline.karyotype or cellline.str_fingerprinting.all|length or cellline.genome_analysis or cellline.genetic_modification_transgene_expression or cellline.genetic_modification_gene_knock_out or cellline.genetic_modification_gene_knock_in or cellline.genetic_modification_isogenic %}
    <tr><th colspan="2" class="title"><h2>Genotyping</h2></th></tr>

        {% if cellline.karyotype %}
        <tr><th class="sub-title"><h3>Karyotyping</h3></th><th></th></tr>

        {% if cellline.karyotype.passage_number %}
        <tr><td class="label">Passage number:</td><td>{{ cellline.karyotype.passage_number|default:"-" }}</td></tr>
        {% endif %}
        <tr><td class="label">Cell line karyotype:</td><td>{{ cellline.karyotype.karyotype|default:"-" }}</td></tr>
        <tr><td class="label">Karyotyping method:</td><td>{{ cellline.karyotype.karyotype_method|default:"-" }}</td></tr>
        {% endif %}

        {% if cellline.str_fingerprinting.all|length or cellline.genome_analysis %}
        <tr><th class="sub-title"><h3>Genome-Wide Assays</h3></th><th></th></tr>

            {% if cellline.str_fingerprinting.all|length %}
            <tr>
                <td class="label">STR/Fingerprinting:</td>
                <td>
                    <table>
                        <tr>
                            <th>Locus</th>
                            <th>Allele 1</th>
                            <th>Allele 2</th>
                        </tr>
                        {% for locus in cellline.str_fingerprinting.all %}
                        <tr>
                            <td>{{ locus.locus }}</td>
                            <td class="center">{{ locus.allele1 }}</td>
                            <td class="center">{{ locus.allele2 }}</td>
                        </tr>
                        {% endfor %}
                    </table>
                </td>
            </tr>
            {% endif %}

            {% if cellline.genome_analysis %}
            <tr>
                <td class="label">Genome-wide analysis:</td>
                <td>
                    {% if cellline.genome_analysis.data %}{{ cellline.genome_analysis.data }}{% endif %}
                    {% if cellline.genome_analysis.data and cellline.genome_analysis.link %}<br/>{% endif %}
                    {% if cellline.genome_analysis.link %}<a href="{{ cellline.genome_analysis.link }}">{{ cellline.genome_analysis.link }}</a>{% endif %}</td>
            </tr>
            {% endif %}

        {% endif %}

        {% if cellline.genetic_modification_transgene_expression or cellline.genetic_modification_gene_knock_out or cellline.genetic_modification_gene_knock_in or cellline.genetic_modification_isogenic %}
        <tr><th class="sub-title"><h3>Genetic modification</h3></th><th></th></tr>
            {% if cellline.genetic_modification_transgene_expression %}
                <tr>
                    <td class="label">Type of modification:</td>
                    <td><b>Transgene expression</b></td>
                </tr>

                {% if cellline.genetic_modification_transgene_expression.genes.all|length %}
                <tr>
                    <td class="label">Genes:</td>
                    <td>
                        <ul>
                            {% for gene in cellline.genetic_modification_transgene_expression.genes.all %}
                            <li>{{ gene.name }}</li>
                            {% endfor%}
                        </ul>
                    </td>
                </tr>
                {% endif %}

                {% if cellline.genetic_modification_transgene_expression.delivery_method %}
                <tr>
                    <td class="label">Delivery method:</td>
                    <td>
                        {{ cellline.genetic_modification_transgene_expression.delivery_method }}
                        {% if cellline.genetic_modification_transgene_expression.virus %} - {{ cellline.genetic_modification_transgene_expression.virus }}{% endif %}
                        {% if cellline.genetic_modification_transgene_expression.transposon %} - {{ cellline.genetic_modification_transgene_expression.transposon }}{% endif %}
                    </td>
                </tr>
                {% endif %}
            {% endif %}

            {% if cellline.genetic_modification_gene_knock_out %}
                <tr>
                    <td class="label">Type of modification:</td>
                    <td><b>Gene knock-out</b></td>
                </tr>

                {% if cellline.genetic_modification_gene_knock_out.target_genes.all|length %}
                <tr>
                    <td class="label">Target genes:</td>
                    <td>
                        <ul>
                            {% for gene in cellline.genetic_modification_gene_knock_out.target_genes.all %}
                            <li>{{ gene.name }}</li>
                            {% endfor%}
                        </ul>
                    </td>
                </tr>
                {% endif %}

                {% if cellline.genetic_modification_gene_knock_out.delivery_method %}
                <tr>
                    <td class="label">Delivery method:</td>
                    <td>
                        {{ cellline.genetic_modification_gene_knock_out.delivery_method }}
                        {% if cellline.genetic_modification_gene_knock_out.virus %} - {{ cellline.genetic_modification_gene_knock_out.virus }}{% endif %}
                        {% if cellline.genetic_modification_gene_knock_out.transposon %} - {{ cellline.genetic_modification_gene_knock_out.transposon }}{% endif %}
                    </td>
                </tr>
                {% endif %}
            {% endif %}

            {% if cellline.genetic_modification_gene_knock_in %}
                <tr>
                    <td class="label">Type of modification:</td>
                    <td><b>Gene knock-in</b></td>
                </tr>

                {% if cellline.genetic_modification_gene_knock_in.target_genes.all|length %}
                <tr>
                    <td class="label">Target genes:</td>
                    <td>
                        <ul>
                            {% for gene in cellline.genetic_modification_gene_knock_in.target_genes.all %}
                            <li>{{ gene.name }}</li>
                            {% endfor%}
                        </ul>
                    </td>
                </tr>
                {% endif %}

                {% if cellline.genetic_modification_gene_knock_in.transgenes.all|length %}
                <tr>
                    <td class="label">Transgenes:</td>
                    <td>
                        <ul>
                            {% for gene in cellline.genetic_modification_gene_knock_in.transgenes.all %}
                            <li>{{ gene.name }}</li>
                            {% endfor%}
                        </ul>
                    </td>
                </tr>
                {% endif %}

                {% if cellline.genetic_modification_gene_knock_in.delivery_method %}
                <tr>
                    <td class="label">Delivery method:</td>
                    <td>
                        {{ cellline.genetic_modification_gene_knock_in.delivery_method }}
                        {% if cellline.genetic_modification_gene_knock_in.virus %} - {{ cellline.genetic_modification_gene_knock_in.virus }}{% endif %}
                        {% if cellline.genetic_modification_gene_knock_in.transposon %} - {{ cellline.genetic_modification_gene_knock_in.transposon }}{% endif %}
                    </td>
                </tr>
                {% endif %}
            {% endif %}

            {% if cellline.genetic_modification_isogenic %}
                <tr>
                    <td class="label">Type of modification:</td>
                    <td><b>Isogenic modification</b></td>
                </tr>

                {% if cellline.genetic_modification_isogenic.target_locus.all|length %}
                <tr>
                    <td class="label">Target loci:</td>
                    <td>
                        <ul>
                            {% for gene in cellline.genetic_modification_isogenic.target_locus.all %}
                            <li>{{ gene.name }}</li>
                            {% endfor%}
                        </ul>
                    </td>
                </tr>
                {% endif %}

                {% if cellline.genetic_modification_isogenic.change_type %}
                <tr>
                    <td class="label">Type of change:</td>
                    <td>{{ cellline.genetic_modification_isogenic.change_type }}</td>
                </tr>
                {% endif %}

                {% if cellline.genetic_modification_isogenic.modified_sequence %}
                <tr>
                    <td class="label">Modified sequence:</td>
                    <td>{{ cellline.genetic_modification_isogenic.modified_sequence }}</td>
                </tr>
                {% endif %}
            {% endif %}

        {% endif %}

    {% endif %}

</table>
